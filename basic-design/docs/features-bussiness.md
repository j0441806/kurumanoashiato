# 機能一覧

## ユースケースごとの機能一覧（ビジネスルール）

### TOP画面

- TOP画面の表示（ログイン前）
    - TOP画面には、ログインなしの場合は「会員登録」ボタンと「ログイン」ボタンを表示する
    - TOP画面には、ログインありの場合は「ログアウト」ボタンを表示する
    - ログインしていなくても、公開されているあしあとの一部の情報を閲覧・検索できる
        - 検索機能は、TOP画面/あしあと閲覧、あしあと検索画面を参考にする
            - ログインしていないとできないこと
                - ブックマーク
                - コメント
                - フォロー
                - 初期表示はおすすめではなく投稿日順
                - コースのコピー

- 会員登録する
    - 会員登録申し込み
        - TOP画面（ログインなしでも表示される）で、会員登録ボタンをクリックする
        - ユーザーは、メールアドレスとパスワードを会員登録申し込み画面に入力して送信する（会員登録申し込み画面）
        - 会員登録申し込みを送信後、ユーザーにメールアドレスの確認メールが送信される
        - ユーザーは、メールアドレス確認メールに記載されているURLリンクをクリックし、会員本登録画面にアクセスする
    - 会員本登録
        - ユーザーは、会員本登録画面でプロフィールを入力し、送信する（会員本登録画面）
        - 必須項目は、ユーザー名ぐらい？（後から編集でも問題ないものは、必須項目にしない）
        - 会員登録が完了すると、マイページorTOP画面に遷移する（あとで決める）

- ログインする
    - TOP画面で、「ログイン」ボタンをクリックする
    - ログイン画面に遷移する（ログイン画面）
    - ユーザーは、メールアドレスもしくはアカウント名とパスワードを入力して、ログインする
    - 登録されているメールアドレスに紐づくパスワードが一致した場合、ログイン成功する
    - ログイン成功すると、TOP画面（ログイン時）もしくはマイページ画面に遷移する（あとで決める）
    - 3回ログイン失敗すると、一定時間ログインできなくなる

- TOP画面の表示（ログイン後）
    - ログイン時は、「ログアウト」ボタンを表示する
        - クリックすると、ログアウトする
    - ログイン時は、パスワード変更ボタンを表示する
        - クリックすると、パスワード変更画面に遷移する
    - ログイン時は、プロフイール変更ボタンを表示する
        - クリックすると、プロフィール変更画面に遷移する
    - ログイン後は、マイページにボタンを表示する
        - クリックすると、マイページに遷移する
    - あしあとを閲覧する（TOP/あしあと一覧画面）
        - 公開設定されているあしあとが一覧で表示される
        - ページネーションではなく、スクロール(SPA)で見れるようにしたい
        - おすすめ（あなたが興味がありそうなあしあと）を表示する
        - 最近の投稿を表示する
        - 表示結果を「閲覧数」「投稿日」「お気に入り数」で並び変えできるようにする
        - あしあとをクリックすると、あしあと詳細画面に遷移する
    - あしあと検索画面に遷移するボタンを表示する

### あしあと検索画面（TOP画面用）
- あしあとを検索する（あしあと検索画面←TOP画面のあしあと検索ボタンから遷移）
    - 公開されたあしあとを閲覧できる
        - 公開設定→ユーザーがマイページで自分が投稿したあしあとに設定できる
        - デフォルト表示はおすすめ順
    - 公開されたあしあとを検索できる
        - 検索できる分類 
            - 地域
            - 都道府県
            - 季節
            - タグ
            - 本文中（あしあと詳細の説明文）のフリーワード
            - 距離
            - 走りやすさ
            - あしあとをクリックすると、あしあと詳細画面に遷移する 

### あしあと詳細画面（TOP画面用）
- あしあと詳細画面（TOP/あしあと詳細画面←TOP/あしあと一覧画面orあしあと検索画面から遷移）
    -  個別のあしあとの詳細情報を閲覧できる
        - タイトル
        - 説明文
        - TOP写真
        - 他写真
        - コメント
    - ユーザーは、他のユーザーのあしあとにブックマークを登録できる
    - ユーザーは、他のユーザーのあしあとにコメントを登録できる
    - ユーザーは、他のユーザーをフォローできる
    - ユーザーは、他のユーザーが登録したコースをコピーして、自分のコースをを作成できる
    - 

## マイページ画面
- ログイン後、TOP画面orメニューバーの「マイページ」リンクを押下すると遷移する
    - プロフィール変更リンクを表示する
    - あしあと一覧リンクを表示する
    - ダッシュボードへのリンクを表示する
    - お気に入り画面へのリンクを表示する
    - アルバム画面へのリンクを表示する

### プロフィール更新画面
- プロフィールを更新する
    - マイページのプロフィールを変更するボタン、TOP画面（ログイン時）のプロフィール変更ボタンから遷移する
    - 変更できる情報
        - アカウント名
        - 活動地域
        - プロフィール説明
        - プロフィール画像
    - パスワードを変更するリンクと、メールアドレスを変更するリンクを表示する

### パスワード更新画面
- パスワードを変更する
    - パスワードのバリデーションを行う
    - パスワード更新期限を更新する

### メールアドレス更新画面
- メールアドレスを変更する
    - メールアドレスのバリデーションを行う

### あしあと一覧画面（マイページ画面用）
- あしあとを閲覧する
    - マイページの「あしあと一覧」リンクから遷移する
    - 自分が投稿したあしあとが一覧で表示される
    - ページネーションではなく、スクロール(SPA)で見れるようにしたい
    - デフォルトでは最近の投稿を表示する
    - 表示結果を「投稿日」「。。。」で並び変えできるようにする
    - あしあとをクリックすると、あしあと詳細画面に遷移する
    - あしあと検索画面に遷移するボタンを表示する

### あしあと検索画面（マイページ画面用）
- あしあとを検索する
    - マイページのあしあと検索ボタンから遷移する
    - 自分が投稿したあしあとを検索する
        - 検索できる分類
            - 地域
            - 都道府県
            - 季節
            - タグ
            - 本文中（あしあと詳細の説明文）のフリーワード
            - 距離
            - 走りやすさ
            - 公開設定有無
            - お気に入り順
        - あしあとをクリックすると、あしあと詳細画面に遷移する

### あしあと詳細画面（マイページ画面用）
- あしあと詳細画面（マイページ/あしあと詳細画面←マイページ/あしあと一覧画面orあしあと検索画面から遷移）
    -  個別のあしあとの詳細情報を閲覧できる
        - タイトル
        - 説明文
        - TOP写真
        - 他写真
        - コメント
        - コース
        - その他詳細情報（地域、季節、タグなど）
    - ユーザーは、あしあとをお気に入りに登録できる
    - ユーザーは、登録したコースをコピーして、自分のコースをを作成できる
    - あしあとを編集するボタンを表示する

### あしあと編集画面（マイページ画面用）
- あしあとを編集する（マイページ/あしあと編集画面←マイページ/あしあと詳細画面から遷移）
    - ユーザーは自分が投稿したあしあとの情報を編集できる
        - 全ての情報を変更できるわけではない
            - 編集できる情報
                - タイトル
                - 説明文
                - TOP写真
                - 他写真
                - コメント
                - 地域
                - 都道府県
                - 季節
                - タグ
                - 走りやすさ
                - 公開設定有無
                - お気に入り登録
            - 編集できない情報
                - 距離
                - ログデータに直接紐づく情報は変更できない

### あしあと記録画面（マイページ画面用）
   - あしあと記録画面（マイページ/あしあと登録画面←マイページの「あしあとを記録する」ボタンorメニューバーの「あしあとを記録する」ボタンから遷移）
    - あしあとを記録する
        - 内部の処理・・・（要調査）
            - スマホの位置情報を取得（座標情報を取得）
            - 取得した情報を地図上に表示
            - 移動した軌跡を地図上に描画
            - 記録を保存したとき、軌跡を保存する

### ダッシュボード画面（マイページ画面用）
- 過去のデータを確認する（マイページTOP画面←マイページの「ダッシュボード」リンクから遷移）
    - 走行距離を確認する
        - 月毎の走行距離、年毎の走行距離、総合走行距離を表示する
    - 都道府県を表示する（地図を表示）
    - 国道を表示する
    - 軌跡マップ（全ての軌跡を表示）
    - 走行時間を確認する

### お気に入り画面（マイページ画面用）
- お気に入りスポット画面へのリンクを表示する
- お気に入りルート画面へのリンクを表示する

### お気に入りスポット一覧画面（マイページ画面用）
- お気に入り画面の「お気に入りスポット」リンクから遷移する
    - お気に入りスポットを登録・閲覧する
        - お気に入りスポットに登録したスポットの一覧を表示する
            - デフォルトは登録日順でソートして表示する
            - 他の項目で並び変えできるようにする
            - お気に入りスポットをクリックすると詳細画面に遷移する
        - お気に入りスポットを登録するボタンを表示する

### お気に入りスポット登録画面（マイページ画面用）
- お気に入りスポット画面の登録ボタンから遷移する
    - ユーザーは、お気に入りスポットを登録できる
        - 登録内容
        - 連携している地図の情報を使いたい
        - スポット名
        - 説明
        - 位置情報
        - 写真、画像
        - タグ
        - タイプ

### お気に入りスポット詳細画面（マイページ画面用）
- お気に入りスポット一覧画面から遷移する
    - ユーザーは、お気に入りスポットの詳細情報を閲覧できる
        - 登録内容
        - 連携している地図の情報を使いたい
        - スポット名
        - 説明
        - 位置情報
        - 写真、画像
        - タグ
        - タイプ
    - お気に入りスポットを編集するボタンを表示する

### お気に入りスポット編集画面（マイページ画面用）
- お気に入りスポット詳細画面から遷移する
    - ユーザーは、お気に入りスポットを編集できる
        - 登録内容
        - 連携している地図の情報を使いたい
        - スポット名
        - 説明
        - 位置情報
        - 写真、画像
        - タグ
        - タイプ

### お気に入りルート一覧画面（マイページ画面用）
- お気に入り画面の「お気に入りルート」リンクから遷移する
    - お気に入りルートを登録・閲覧する
        - お気に入りルートに登録したルートの一覧を表示する
            - デフォルトは登録日順でソートして表示する
            - 他の項目で並び変えできるようにする
            - お気に入りルートをクリックすると詳細画面に遷移する
        - お気に入りルートを登録するボタンを表示する

### お気に入りルート登録画面（マイページ画面用）
- お気に入りルート画面の登録ボタン、あしあと詳細画面の「ルートをコピー」から遷移する
    - ユーザーは、お気に入りルートを登録できる
        - 登録内容
        - 連携している地図の情報を使いたい
        - ルート名
        - 説明
        - スポット
        - 順番
        - タグ
        - タイプ

### お気に入りルート詳細画面（マイページ画面用）
- お気に入りルート一覧画面から遷移する
    - ユーザーは、お気に入りルートの詳細情報を閲覧できる
        - 登録内容
        - 連携している地図の情報を使いたい
        - ルート名
        - 説明
        - スポット
        - 順番
        - タグ
        - タイプ
    - お気に入りルートを編集するボタンを表示する

### お気に入りルート編集画面（マイページ画面用）
- お気に入りルート詳細画面から遷移する
    - ユーザーは、お気に入りルートを編集できる
        - 登録内容
        - 連携している地図の情報を使いたい
        - ルート名
        - 説明
        - スポット
        - 順番
        - タグ
        - タイプ

### アルバム一覧画面（マイページ画面用）
- マイページTOP画面の「アルバム」リンクから遷移する
    - アルバムを登録・閲覧する
        - 投稿した写真の一覧を表示する
            - デフォルトは登録日順でソートして表示する
            - 他の項目で並び変えできるようにする
        - 複数の写真からアルバムを作成できる
        - アルバムをクリックすると詳細画面に遷移する
        - アルバムを作成するボタンを表示する

### アルバム登録画面（マイページ画面用）
- アルバム一覧画面の登録ボタンから遷移する
    - ユーザーは、これまでに投稿した写真を組み合わせてアルバムを登録できる
    - アルバムに新規で写真を追加することもできる
        - 登録内容
        - アルバム名
        - 説明
        - 位置情報
        - 写真（一覧から選択する）
        - タグ
        - タイプ
    - 写真を追加するボタンを表示する

### アルバム詳細画面（マイページ画面用）
- アルバム一覧画面から遷移する
    - ユーザーは、アルバムの詳細情報を閲覧できる
        - アルバム名
        - 説明
        - 位置情報
        - 写真（一覧から選択する）
        - タグ
        - タイプ
    - アルバムを編集するボタンを表示する

### アルバム編集画面（マイページ画面用）
- アルバム詳細画面から遷移する
    - ユーザーは、アルバムを編集できる
        - アルバム名
        - 説明
        - 位置情報
        - 写真（一覧から選択する）
        - タグ
        - タイプ
    
## 管理画面
- ユーザー情報を閲覧・検索・編集できる
- あしあとの情報を閲覧・検索・編集できる

## 管理画面TOP
- 管理画面TOPの表示（ログイン前）
    - TOP画面には、ログインなしの場合は「会員登録」ボタンと「ログイン」ボタンを表示する
    - TOP画面には、ログインありの場合は「ログアウト」ボタンを表示する
    - ログインしていなくても、公開されているあしあとの一部の情報を閲覧・検索できる
        - 検索機能は、TOP画面/あしあと閲覧、あしあと検索画面を参考にする
            - ログインしていないとできないこと
                - ブックマーク
                - コメント
                - フォロー
                - 初期表示はおすすめではなく投稿日順
                - コースのコピー

### ユーザー管理画面

### あしあと情報管理画面



